<h3>8.2 <code>roles</code> promises in <samp><span>server</span></samp></h3>

<p><br>

   <p>Roles promises are server-side decisions about which users are allowed to define soft-classes on the server's system during remote invocation of <code>cf-agent</code>. This implements a form of Role Based Access Control (RBAC) for pre-assigned class-promise bindings. The user names cited must be attached to trusted public keys in order to be accepted. The regular expression is anchored, meaning it must match the entire name (see <a>Anchored vs. unanchored regular expressions</a>).

   <p><table><tr><td>
<pre>     
      roles:
     
        "<var>regex</var>"
     
           authorize = { "<var>usernames</var>", ... };
     
</pre>
   </td></tr></table>

   <p><i>It is worth re-iterating here that it is not possible to send commands or modify promise definitions by remote access. At best users may try to send classes when using </i><code>cf-runagent</code><i> in order to activate sleeping promises. This mechanism limits their ability to do this</i>.

   <p><br>

<pre>
bundle server access_rules()

{
roles:

  # Allow mark

  "Myclass_.*"  authorize => { "mark" };
}

</pre>

   <p><br>

   <p>In this example user <samp><span>mark</span></samp> is granted permission to remotely activate classes matching the regular expression when <samp><span>Mark_.*</span></samp> using the <code>cf-runagent</code> to activate CFEngine. In this way one can implement a form of Role Based Access Control (RBAC), provided users do not have privileged access on the host directly.

<ul>
<li><a>authorize in roles</a>
</ul>

<div>
<a></a>

</div>

<h4>8.2.1 <code>authorize</code></h4>

<p><b>Type</b>: slist

<p><b>Allowed input range</b>: (arbitrary string)

<p><b>Synopsis</b>: List of public-key user names that are allowed to activate the promised class during remote agent activation

<p><b>Example</b>:<br>
<br>

<pre>
roles:

  ".*"  authorize => { "mark", "marks_friend" };

</pre>

<p><b>Notes</b>:<br>
<br>

   <p>Part of Role Based Access Control (RBAC) in CFEngine. The users listed in this section are granted access to set certain classes by using the remote <code>cf-runagent</code>. The user-names will refer to public key identities already trusted on the system.




<div>
<a></a>

</div>


