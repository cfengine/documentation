<h3>11.86 Function remoteclassesmatching</h3>

<p><b>Synopsis</b>: remoteclassesmatching(arg1,arg2,arg3,arg4) returns type <b>class</b>

   <p><br>
   <i>arg1</i> : Regular expression, <i>in the range</i> .*
<br>
   <i>arg2</i> : Server name or address, <i>in the range</i> .*
<br>
   <i>arg3</i> : Use encryption, <i>in the range</i> true,false,yes,no,on,off
<br>
   <i>arg4</i> : Return class prefix, <i>in the range</i> [a-zA-Z0-9_$(){}\[\].:]+
<br>

<p>Read persistent classes matching a regular expression from a remote cfengine server and add them into local context with prefix

<p><b>Example</b>:<br>
<br>

<pre>
 "succeeded" expression => remoteclassesmatching("regex","server","yes","myprefix");

</pre>

<p><b>Notes</b>:<br>
<br>
This function is only available in Enterprise versions of CFEngine (Nova, Enterprise, etc).

   <p>This function contacts a remote <code>cf-serverd</code> and requests access to defined <i>persistent classes</i> on that system. These must be granted access to by making an <code>access</code> promise with <code>resource_type</code> set to <code>context</code>.

   <p>The return value is true (sets the class) if communication with the server was successful and classes are populated in the current bundle with a prefix of your choosing. The arguments are:

     <dl>
<dt><i>Regular expression</i><dd>This should match a list of <i>persistent</i> classes of be returned from the server, if the server has granted access to them.

     <br><dt><i>Server</i><dd>The name or IP address of the remote server.

     <br><dt><i>Encryption</i><dd>Boolean value, whether or not to encrypt communication.

     <br><dt><i>Prefix</i><dd>A string to be added to the returned classes. For example, if the server defines a persistent class <samp><span>alpha</span></samp>, then this would generate a private class in the current bundle called <samp><span>myprefix_alpha</span></samp>. 
</dl>

   <p>Note that this function assumes that you have already performed a successful key exchange between systems, (e.g. using either a remote copy or <code>cf-runagent</code> connection). It contains no mechanism for trust establishment and will fail if there is no trust relationship  pre-established.

<div>
<a></a>

</div>


