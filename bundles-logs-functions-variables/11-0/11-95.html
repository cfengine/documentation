<h3>11.95 Function usemodule</h3>

<p><b>Synopsis</b>: usemodule(arg1,arg2) returns type <b>class</b>

   <p><br>
   <i>arg1</i> : Name of module command, <i>in the range</i> .*
<br>
   <i>arg2</i> : Argument string for the module, <i>in the range</i> .*
<br>

<p>Execute cfengine module script and set class if successful

<p><b>Example</b>:<br>
<br>

<pre>
body common control
   {
   any::

      bundlesequence  => {
                         test
                         };
   }

###################################################################

bundle agent test

{
classes:

  # returns $(user)

  "done" expression => usemodule("getusers","");

commands:

  "/bin/echo" args => "test $(user)";
}

</pre>

<p><b>Notes</b>:<br>
<br>

   <p>Modules must reside in <samp><span>WORKDIR/modules</span></samp> but no longer require a special naming convention.

<p><b>ARGUMENTS</b>:

     <dl>
<dt><samp><span>Module name</span></samp><dd>The name of the module without its leading path, since it is assumed to be in the registered modules directory.

     <br><dt><samp><span>Argument string</span></samp><dd>Any command link arguments to pass to the module.

   </dl>

<div>
<a></a>

</div>


