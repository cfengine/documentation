<h3>11.36 Function hostswithclass</h3>

<p><b>Synopsis</b>: hostswithclass(arg1,arg2) returns type <b>slist</b>

   <p><br>
   <i>arg1</i> : Class name to look for, <i>in the range</i> [a-zA-Z0-9_]+
<br>
   <i>arg2</i> : Type of return value desired, <i>in the range</i> name,address
<br>

<p>Extract the list of hosts with the given class set from the hub database (commercial extension)

<p><b>Example</b>:<br>
<br>
<pre>body common control
{
bundlesequence => { "test" };
inputs => { "cfengine_stdlib.cf" };
}


bundle agent test
{
vars:

am_policy_hub::
 "host_list" slist => hostswithclass( "debian", "name" );

files:
am_policy_hub::
  "/tmp/master_config.cfg"
         edit_line => insert_lines("host=$(host_list)"),
            create => "true";
}
</pre>

<p><b>Notes</b>:<br>
<br>

   <p>On CFEngine Nova hubs, this function can be used to return a list of hostnames or ip-addresses of hosts that has the class given as argument 1. Argument 2 may be <samp><span>address</span></samp> or <samp><span>name</span></samp>, to return IP address or hostname form.

   <p>Note that this function only works locally on the hub, but allows the hub to construct custom configuration files for (classes of) hosts.

   <p><i>History</i>: Was introduced in 3.3.0, Nova 2.2.0 (2012)

   <p>Availability: Enterprise editions of CFEngine only.

<pre>
</pre>

<div>
<a></a>

</div>


