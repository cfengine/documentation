<h3>7.5 Miscelleneous in <code>edit_line</code> promises</h3>

<p><br>

   <p>Line based editing is a simple model for editing files. Before XML, and later JSON, most configuration files were line based. The line-based editing offers a powerful environment for model-based editing and templating.

<ul>
<li><a>select_region in *</a>
</ul>

<div>
<a></a>
<a></a>

</div>

<h4>7.5.1 <code>select_region</code> (body template)</h4>

<p><b>Type</b>: (ext body)

     <dl>
<dt><samp><code>include_start_delimiter</code></samp><dd><b>Type</b>: (menu option)

     <p><b>Allowed input range</b>: <br>
     <pre>                    <code>true</code>
                    <code>false</code>
                    <code>yes</code>
                    <code>no</code>
                    <code>on</code>
                    <code>off</code>
</pre>
     <p><b>Synopsis</b>: Whether to include the section delimiter

     <p><b>Default value:</b> false

     <p><b>Example</b>:<br>
<br>

     <pre>     
     body select_region MySection(x)
     {
     select_start => "\[$(x)\]";
     select_end => "\[.*\]";
     include_start_delimiter => "true";
     }
     
</pre>

     <p><b>Notes</b>:<br>
<br>

     <p>In a sectioned file, the line that marks the opening of a section is not normally included in the defined region (that is, it is recognized as a delimiter, but it is not included as one of the lines available for editing). Setting this option to true makes it included. For example:

     <pre>     [My section]
     one
     two
     three
</pre>

     <p>In the example above, the section does not normally include the line <samp><span>[My section]</span></samp>. By setting <code>include_start_delimiter</code> to <samp><span>true</span></samp>it would be possible for example, to delete the entire section, including the section header. If however <code>include_start_delimiter</code> is <samp><span>false</span></samp>, the <i>contents</i> of the section could be deleted, but the header would be unaffected by any <code>delete_lines</code> promises. See the next section on <code>include_start_delimiter</code> for further details.

     <p><b>History</b>: This attribute was introduced in CFEngine version 3.0.5 (2010)

     <br><dt><samp><code>include_end_delimiter</code></samp><dd><b>Type</b>: (menu option)

     <p><b>Allowed input range</b>: <br>
     <pre>                    <code>true</code>
                    <code>false</code>
                    <code>yes</code>
                    <code>no</code>
                    <code>on</code>
                    <code>off</code>
</pre>
     <p><b>Synopsis</b>: Whether to include the section delimiter

     <p><b>Default value:</b> false

     <p><b>Example</b>:<br>
<br>

     <pre>     
     body select_region BracketSection(x)
     {
     select_start => "$(x) \{";
     select_end => "}";
     include_end_delimiter => "true";
     }
     
</pre>

     <p><b>Notes</b>:<br>
<br>

     <p>In a sectioned file, the line that marks the end of a section is not normally included in the defined region; that is, it is recognized as a delimiter, but it is not included as one of the lines available for editing. Setting this option to true makes it included. For example:

     <pre>     /var/log/mail.log {
         monthly
         missingok
         notifempty
         rotate 7
         }
</pre>

     <p>The section does not normally include the line containing <samp><span>}</span></samp>. By setting <code>include_end_delimiter</code> to <samp><span>true</span></samp>it would be possible for example, to delete the entire section, including the section trailer. If however <code>include_end_delimiter</code> is <samp><span>false</span></samp>, the <i>contents</i> of the section could be deleted, but the header would be unaffected by any <code>delete_lines</code> promises.

     <p>The use of <code>include_start_delimiter</code> and <code>include_end_delimiter</code> depend on the type of sections you are dealing with, and what you want to do with them. Note that sections can be bounded at both the start and end (as in the example above) or just at the start (as in the sample shown in <code>include_start_delimiter</code>).

     <p><b>History</b>: This attribute was introduced in CFEngine version 3.0.5 (2010)

     <br><dt><samp><code>select_start</code></samp><dd><b>Type</b>: string

     <p><b>Allowed input range</b>: <code>.*</code>

     <p><b>Synopsis</b>: Regular expression matching start of edit region

     <p><b>Example</b>:<br>
<br>

     <pre>     
     body select_region example(x)
     
     {
     select_start => "\[$(x)\]";
     select_end => "\[.*\]";
     }
     
</pre>

     <p><b>Notes</b>:<br>
<br>

     <p>See also <code>select_end</code>. These delimiters mark out the region of a file to be edited. In the example, it is assumed that the file has section markers.

     <pre>          [section 1]
          
          lines.
          lines...
          
          
          [section 2]
          
          lines ....
          etc..
          
</pre>
     <p>The start marker includes the first matched line.

     <br><dt><samp><code>select_end</code></samp><dd><b>Type</b>: string

     <p><b>Allowed input range</b>: <code>.*</code>

     <p><b>Synopsis</b>: Regular expression matches end of edit region from start

     <p><b>Example</b>:<br>
<br>

     <pre>     
     body select_region example(x)
     
     {
     select_start => "\[$(x)\]";
     select_end => "\[.*\]";
     }
     
</pre>

     <p><b>Notes</b>:<br>
<br>

     <p>See also <code>select_start</code>. These delimiters mark out the region of a file to be edited. In this example, it is assumed that the file
has section markers:

     <pre>          [section 1]
          
          lines.
          lines...
          
          
          [section 2]
          
          lines ....
          etc..
          
</pre>
     <p>If you want to match from a starting location to the end of the file (even if there are other lines matching <code>select_start</code> intervening), then just omit the <code>select_end</code> promise and the selected region will run to the end of the file.

   </dl>

<div>
<a></a>
<a></a>

</div>


